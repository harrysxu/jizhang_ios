# è¯¦ç»†é¡µé¢è®¾è®¡æ–‡æ¡£

## æ–‡æ¡£ä¿¡æ¯

- **é¡¹ç›®åç§°**: Luminaè®°è´¦App
- **UIæ¡†æ¶**: SwiftUI
- **è®¾è®¡ç‰ˆæœ¬**: v1.0
- **åˆ›å»ºæ—¥æœŸ**: 2026-01-24

---

## ç›®å½•

1. [åº”ç”¨æ¶æ„](#1-åº”ç”¨æ¶æ„)
2. [é¦–é¡µè®¾è®¡](#2-é¦–é¡µè®¾è®¡-homeview)
3. [å¿«é€Ÿè®°è´¦è®¾è®¡](#3-å¿«é€Ÿè®°è´¦è®¾è®¡-addtransactionsheet)
4. [æµæ°´åˆ—è¡¨è®¾è®¡](#4-æµæ°´åˆ—è¡¨è®¾è®¡-transactionlistview)
5. [æŠ¥è¡¨é¡µè®¾è®¡](#5-æŠ¥è¡¨é¡µè®¾è®¡-reportview)
6. [é¢„ç®—é¡µè®¾è®¡](#6-é¢„ç®—é¡µè®¾è®¡-budgetview)
7. [è®¾ç½®é¡µè®¾è®¡](#7-è®¾ç½®é¡µè®¾è®¡-settingsview)
8. [è´¦æˆ·ç®¡ç†è®¾è®¡](#8-è´¦æˆ·ç®¡ç†è®¾è®¡-accountmanagementview)
9. [åˆ†ç±»ç®¡ç†è®¾è®¡](#9-åˆ†ç±»ç®¡ç†è®¾è®¡-categorymanagementview)
10. [äº¤äº’æµç¨‹å›¾](#10-æ ¸å¿ƒäº¤äº’æµç¨‹å›¾)

---

## 1. åº”ç”¨æ¶æ„

### 1.1 å¯¼èˆªç»“æ„

```mermaid
graph TD
    App[Appå¯åŠ¨] --> TabBar[åº•éƒ¨TabBar]
    
    TabBar --> Tab1[é¦–é¡µTab]
    TabBar --> Tab2[æŠ¥è¡¨Tab]
    TabBar --> Tab3[é¢„ç®—Tab]
    TabBar --> Tab4[è®¾ç½®Tab]
    
    Tab1 --> Home[é¦–é¡µ]
    Tab2 --> Report[æŠ¥è¡¨]
    Tab3 --> Budget[é¢„ç®—]
    Tab4 --> Settings[è®¾ç½®]
    
    Home -.Sheet.-> AddTransaction[å¿«é€Ÿè®°è´¦]
    Home -.Push.-> TransactionDetail[äº¤æ˜“è¯¦æƒ…]
    Home -.Sheet.-> LedgerPicker[åˆ‡æ¢è´¦æœ¬]
    
    Settings -.Push.-> LedgerManagement[è´¦æœ¬ç®¡ç†]
    Settings -.Push.-> AccountManagement[è´¦æˆ·ç®¡ç†]
    Settings -.Push.-> CategoryManagement[åˆ†ç±»ç®¡ç†]
```

### 1.2 ä¸»TabBar

```swift
struct MainTabView: View {
    @State private var selectedTab = 0
    
    var body: some View {
        TabView(selection: $selectedTab) {
            HomeView()
                .tabItem {
                    Label("é¦–é¡µ", systemImage: "house.fill")
                }
                .tag(0)
            
            ReportView()
                .tabItem {
                    Label("æŠ¥è¡¨", systemImage: "chart.bar.fill")
                }
                .tag(1)
            
            BudgetView()
                .tabItem {
                    Label("é¢„ç®—", systemImage: "chart.pie.fill")
                }
                .tag(2)
            
            SettingsView()
                .tabItem {
                    Label("è®¾ç½®", systemImage: "gearshape.fill")
                }
                .tag(3)
        }
        .tint(.primaryBlue)
    }
}
```

**è®¾è®¡è¯´æ˜**:
- é‡‡ç”¨æ ‡å‡†iOSåº•éƒ¨TabBar
- 4ä¸ªä¸»Tabï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½
- å›¾æ ‡ä½¿ç”¨SF Symbolsï¼Œè¯­ä¹‰æ¸…æ™°
- é€‰ä¸­æ€ä½¿ç”¨ä¸»è‰²è°ƒè“è‰²

---

## 2. é¦–é¡µè®¾è®¡ (HomeView)

### 2.1 é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† [æ—¥å¸¸è´¦æœ¬ â–¼]              âš™ï¸     â”‚ <- å¯¼èˆªæ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚    å‡€èµ„äº§å¡ç‰‡               â”‚   â”‚
â”‚   â”‚                             â”‚   â”‚
â”‚   â”‚    Â¥ 123,456.78            â”‚   â”‚ <- å¤§å¡ç‰‡
â”‚   â”‚                             â”‚   â”‚    æ¯›ç»ç’ƒèƒŒæ™¯
â”‚   â”‚  æœ¬æœˆ â†“Â¥12,345  â†‘Â¥8,900   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ä»Šæ—¥æ”¯å‡º  Â¥256.00          â”‚   â”‚ <- ä»Šæ—¥æ¦‚è§ˆ
â”‚   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  65%          â”‚   â”‚    é¢„ç®—è¿›åº¦
â”‚   â”‚ å‰©ä½™é¢„ç®— Â¥1,234            â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚   æµæ°´åˆ—è¡¨                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ä»Šå¤© 1æœˆ24æ—¥ å‘¨å…­          â”‚   â”‚
â”‚   â”‚                            â”‚   â”‚
â”‚   â”‚ ğŸœ åˆé¤        -45.00     â”‚   â”‚
â”‚   â”‚ æ‹›å•†é“¶è¡Œ | 14:23           â”‚   â”‚
â”‚   â”‚                            â”‚   â”‚
â”‚   â”‚ â˜• å’–å•¡        -32.00     â”‚   â”‚
â”‚   â”‚ ç°é‡‘ | 10:15               â”‚   â”‚
â”‚   â”‚                            â”‚   â”‚
â”‚   â”‚ æ”¯å‡º: Â¥77.00              â”‚   â”‚ <- æ—¥æ±‡æ€»
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ æ˜¨å¤© 1æœˆ23æ—¥ å‘¨äº”          â”‚   â”‚
â”‚   â”‚                            â”‚   â”‚
â”‚   â”‚ ğŸš‡ åœ°é“        -6.00      â”‚   â”‚
â”‚   â”‚ å·¥è¡Œå‚¨è“„å¡ | 17:30         â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚                [+]                  â”‚ <- æµ®åŠ¨æŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 è¯¦ç»†å®ç°

#### å¯¼èˆªæ 

```swift
struct HomeNavigationBar: View {
    @Binding var currentLedger: Ledger
    @State private var showLedgerPicker = false
    
    var body: some View {
        HStack {
            Button {
                showLedgerPicker = true
            } label: {
                HStack(spacing: 4) {
                    Text(currentLedger.name)
                        .font(.headline)
                        .foregroundColor(.primary)
                    
                    Image(systemName: "chevron.down")
                        .font(.caption)
                        .foregroundColor(.gray2)
                }
            }
            
            Spacer()
            
            NavigationLink(destination: SettingsView()) {
                Image(systemName: "gearshape")
                    .font(.system(size: 20))
                    .foregroundColor(.gray2)
            }
        }
        .padding(.horizontal, Spacing.m)
        .sheet(isPresented: $showLedgerPicker) {
            LedgerPickerSheet(selectedLedger: $currentLedger)
        }
    }
}
```

**äº¤äº’**:
- ç‚¹å‡»è´¦æœ¬åç§°ï¼šå¼¹å‡ºè´¦æœ¬åˆ‡æ¢Sheet
- ç‚¹å‡»è®¾ç½®å›¾æ ‡ï¼šè¿›å…¥è®¾ç½®é¡µé¢
- å¯¼èˆªæ èƒŒæ™¯é€æ˜ï¼Œæ»šåŠ¨æ—¶å˜æ¨¡ç³Š

#### å‡€èµ„äº§å¡ç‰‡

```swift
struct NetAssetCard: View {
    let totalAssets: Decimal
    let monthlyIncome: Decimal
    let monthlyExpense: Decimal
    
    var body: some View {
        VStack(spacing: Spacing.m) {
            // æ ‡é¢˜
            HStack {
                Text("å‡€èµ„äº§")
                    .font(.subheadline)
                    .foregroundColor(.gray2)
                
                Spacer()
                
                Image(systemName: "eye.slash")
                    .font(.caption)
                    .foregroundColor(.gray3)
            }
            
            // å¤§é‡‘é¢
            AnimatedNumber(value: totalAssets)
                .font(.system(size: 48, weight: .bold, design: .rounded))
                .foregroundColor(.primary)
                .monospacedDigit()
            
            // æœ¬æœˆæ”¶æ”¯
            HStack(spacing: Spacing.l) {
                MonthlyStatItem(
                    title: "æ”¯å‡º",
                    amount: monthlyExpense,
                    color: .expenseRed,
                    icon: "arrow.down"
                )
                
                MonthlyStatItem(
                    title: "æ”¶å…¥",
                    amount: monthlyIncome,
                    color: .incomeGreen,
                    icon: "arrow.up"
                )
            }
        }
        .padding(Spacing.l)
        .background(
            RoundedRectangle(cornerRadius: CornerRadius.l)
                .fill(.ultraThinMaterial)
                .overlay(
                    RoundedRectangle(cornerRadius: CornerRadius.l)
                        .stroke(Color.gray4.opacity(0.3), lineWidth: 0.5)
                )
        )
        .padding(.horizontal, Spacing.m)
        .cardShadow()
    }
}

struct MonthlyStatItem: View {
    let title: String
    let amount: Decimal
    let color: Color
    let icon: String
    
    var body: some View {
        VStack(spacing: Spacing.xs) {
            HStack(spacing: 4) {
                Image(systemName: icon)
                    .font(.caption2)
                Text(title)
                    .font(.caption)
            }
            .foregroundColor(.gray2)
            
            Text(amount.formatted())
                .font(.system(size: 20, weight: .semibold, design: .rounded))
                .foregroundColor(color)
                .monospacedDigit()
        }
        .frame(maxWidth: .infinity)
    }
}
```

**è®¾è®¡ç»†èŠ‚**:
- ä½¿ç”¨æ¯›ç»ç’ƒæè´¨ï¼ˆ`.ultraThinMaterial`ï¼‰
- é‡‘é¢ä½¿ç”¨ç­‰å®½æ•°å­—ï¼Œé¿å…è·³åŠ¨
- æ•°å­—æ»šåŠ¨åŠ¨ç”»å¢å¼ºè§†è§‰æ•ˆæœ
- çœ¼ç›å›¾æ ‡æ”¯æŒéšè—é‡‘é¢ï¼ˆé•¿æŒ‰è§¦å‘ï¼‰

#### ä»Šæ—¥æ”¯å‡ºå¡ç‰‡

```swift
struct TodayExpenseCard: View {
    let todayExpense: Decimal
    let budget: Budget?
    
    private var progress: Double {
        guard let budget = budget, budget.effectiveBudget > 0 else { return 0 }
        return Double(truncating: (todayExpense / budget.effectiveBudget) as NSNumber)
    }
    
    var body: some View {
        VStack(spacing: Spacing.s) {
            HStack {
                Text("ä»Šæ—¥æ”¯å‡º")
                    .font(.subheadline)
                    .foregroundColor(.gray2)
                
                Spacer()
                
                Text(todayExpense.formatted())
                    .font(.system(size: 20, weight: .semibold, design: .rounded))
                    .foregroundColor(.expenseRed)
                    .monospacedDigit()
            }
            
            if let budget = budget {
                VStack(spacing: Spacing.xs) {
                    BudgetProgressBar(progress: progress)
                    
                    HStack {
                        Text("\(Int(progress * 100))%")
                            .font(.caption)
                            .foregroundColor(.gray3)
                        
                        Spacer()
                        
                        Text("å‰©ä½™ \(budget.remainingBudget.formatted())")
                            .font(.caption)
                            .foregroundColor(.gray2)
                    }
                }
            }
        }
        .padding(Spacing.m)
        .background(
            RoundedRectangle(cornerRadius: CornerRadius.m)
                .fill(Color.backgroundSecondary)
        )
        .padding(.horizontal, Spacing.m)
    }
}
```

#### æµæ°´åˆ—è¡¨

```swift
struct TransactionListSection: View {
    let transactions: [Transaction]
    
    // æŒ‰æ—¥æœŸåˆ†ç»„
    private var groupedTransactions: [(date: Date, transactions: [Transaction])] {
        // å®ç°åˆ†ç»„é€»è¾‘
    }
    
    var body: some View {
        LazyVStack(spacing: 0, pinnedViews: [.sectionHeaders]) {
            ForEach(groupedTransactions, id: \.date) { group in
                Section {
                    ForEach(group.transactions) { transaction in
                        TransactionRow(transaction: transaction)
                            .contentShape(Rectangle())
                            .onTapGesture {
                                // è¿›å…¥äº¤æ˜“è¯¦æƒ…
                            }
                            .contextMenu {
                                TransactionContextMenu(transaction: transaction)
                            }
                    }
                } header: {
                    TransactionSectionHeader(
                        date: group.date,
                        totalExpense: calculateTotal(group.transactions)
                    )
                }
            }
        }
    }
}

struct TransactionRow: View {
    let transaction: Transaction
    
    var body: some View {
        HStack(spacing: Spacing.m) {
            // å›¾æ ‡
            CategoryIcon(
                iconName: transaction.category?.iconName ?? "questionmark",
                color: Color(hex: transaction.category?.colorHex ?? "#007AFF")
            )
            
            // ä¿¡æ¯
            VStack(alignment: .leading, spacing: 4) {
                Text(transaction.category?.name ?? "æœªåˆ†ç±»")
                    .font(.body)
                    .foregroundColor(.primary)
                
                HStack(spacing: 4) {
                    Text(transaction.primaryAccount?.name ?? "")
                        .font(.caption)
                        .foregroundColor(.gray3)
                    
                    Text("â€¢")
                        .font(.caption)
                        .foregroundColor(.gray4)
                    
                    Text(transaction.date.formatted(date: .omitted, time: .shortened))
                        .font(.caption)
                        .foregroundColor(.gray3)
                }
            }
            
            Spacer()
            
            // é‡‘é¢
            Text(transaction.signedAmount.formatted())
                .font(.system(size: 17, weight: .medium, design: .default))
                .foregroundColor(transaction.type == .expense ? .expenseRed : .incomeGreen)
                .monospacedDigit()
        }
        .padding(.horizontal, Spacing.m)
        .padding(.vertical, Spacing.s)
        .background(Color.backgroundPrimary)
    }
}

struct CategoryIcon: View {
    let iconName: String
    let color: Color
    let size: CGFloat = 40
    
    var body: some View {
        ZStack {
            RoundedRectangle(cornerRadius: 10)
                .fill(color.opacity(0.15))
                .frame(width: size, height: size)
            
            Image(systemName: iconName)
                .font(.system(size: size * 0.5))
                .foregroundColor(color)
        }
    }
}

struct TransactionSectionHeader: View {
    let date: Date
    let totalExpense: Decimal
    
    private var dateText: String {
        let calendar = Calendar.current
        if calendar.isDateInToday(date) {
            return "ä»Šå¤©"
        } else if calendar.isDateInYesterday(date) {
            return "æ˜¨å¤©"
        } else {
            return date.formatted(date: .abbreviated, time: .omitted)
        }
    }
    
    var body: some View {
        HStack {
            Text(dateText)
                .font(.subheadline)
                .fontWeight(.semibold)
                .foregroundColor(.gray2)
            
            Text(date.formatted(.dateTime.month().day().weekday(.abbreviated)))
                .font(.caption)
                .foregroundColor(.gray3)
            
            Spacer()
            
            if totalExpense > 0 {
                Text("æ”¯å‡º: \(totalExpense.formatted())")
                    .font(.caption)
                    .foregroundColor(.gray2)
            }
        }
        .padding(.horizontal, Spacing.m)
        .padding(.vertical, Spacing.s)
        .background(Color.backgroundPrimary.opacity(0.95))
    }
}
```

**äº¤äº’è¯´æ˜**:
- **ç‚¹å‡»**: è¿›å…¥äº¤æ˜“è¯¦æƒ…
- **é•¿æŒ‰**: å¼¹å‡ºä¸Šä¸‹æ–‡èœå•ï¼ˆç¼–è¾‘/åˆ é™¤/å¤åˆ¶ï¼‰
- **å·¦æ»‘**: å¿«æ·åˆ é™¤æŒ‰é’®
- **ä¸‹æ‹‰**: åˆ·æ–°æ•°æ®ï¼ˆè§¦å‘iCloudåŒæ­¥ï¼‰

#### æµ®åŠ¨æŒ‰é’®

```swift
struct FloatingActionButton: View {
    let action: () -> Void
    
    var body: some View {
        Button(action: {
            HapticFeedback.light.trigger()
            action()
        }) {
            Image(systemName: "plus")
                .font(.system(size: 24, weight: .semibold))
                .foregroundColor(.white)
                .frame(width: 60, height: 60)
                .background(
                    Circle()
                        .fill(
                            LinearGradient(
                                colors: [.primaryBlue, .primaryBlue.opacity(0.8)],
                                startPoint: .topLeading,
                                endPoint: .bottomTrailing
                            )
                        )
                        .shadow(
                            color: .primaryBlue.opacity(0.4),
                            radius: 20,
                            x: 0,
                            y: 10
                        )
                )
        }
        .buttonStyle(ScaleButtonStyle())
    }
}
```

---

## 3. å¿«é€Ÿè®°è´¦è®¾è®¡ (AddTransactionSheet)

### 3.1 é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å–æ¶ˆ                        å®Œæˆ   â”‚ <- Sheetå¯¼èˆª
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æ”¯å‡º] [æ”¶å…¥] [è½¬è´¦]              â”‚ <- Segmented
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚          Â¥ 0                        â”‚ <- é‡‘é¢æ˜¾ç¤º
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [1] [2] [3]  [ ä»Šå¤©â–¼]      â”‚  â”‚
â”‚  â”‚  [4] [5] [6]  [ğŸ“å¤‡æ³¨]      â”‚  â”‚ <- è®¡ç®—å™¨
â”‚  â”‚  [7] [8] [9]  [ + ]          â”‚  â”‚    + å¿«æ·é”®
â”‚  â”‚  [.] [0] [âŒ«]  [ - ]          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è´¦æˆ·  [ğŸ’³ æ‹›å•†é“¶è¡Œ â–¼]             â”‚ <- é€‰æ‹©åŒº
â”‚  åˆ†ç±»  [ğŸœ é¤é¥®-åˆé¤ â–¼]            â”‚
â”‚  æ ‡ç­¾  [+ æ·»åŠ æ ‡ç­¾]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          [ç¡®è®¤æ·»åŠ ]                 â”‚ <- ä¸»æŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 è¯¦ç»†å®ç°

#### Sheetå®¹å™¨

```swift
struct AddTransactionSheet: View {
    @Environment(\.dismiss) private var dismiss
    @StateObject private var viewModel = AddTransactionViewModel()
    
    var body: some View {
        NavigationStack {
            VStack(spacing: 0) {
                // ç±»å‹åˆ‡æ¢
                TransactionTypeSegment(selectedType: $viewModel.type)
                    .padding(.top, Spacing.m)
                
                // é‡‘é¢æ˜¾ç¤º
                AmountDisplay(amount: $viewModel.amount)
                    .padding(.vertical, Spacing.xl)
                
                // è®¡ç®—å™¨é”®ç›˜
                CalculatorKeyboard(
                    amount: $viewModel.amount,
                    onDateTap: { viewModel.showDatePicker = true },
                    onNoteTap: { viewModel.showNotePicker = true }
                )
                
                Divider()
                
                // é€‰æ‹©åŒºåŸŸ
                SelectionArea(viewModel: viewModel)
                    .padding(.vertical, Spacing.m)
                
                Spacer()
                
                // ç¡®è®¤æŒ‰é’®
                PrimaryButton(title: "ç¡®è®¤æ·»åŠ ") {
                    Task {
                        await viewModel.saveTransaction()
                        dismiss()
                    }
                }
                .padding(Spacing.m)
                .disabled(!viewModel.isValid)
            }
            .navigationTitle("è®°ä¸€ç¬”")
            .navigationBarTitleDisplayMode(.inline)
            .toolbar {
                ToolbarItem(placement: .cancellationAction) {
                    Button("å–æ¶ˆ") { dismiss() }
                }
            }
        }
        .presentationDetents([.large])
        .presentationDragIndicator(.visible)
    }
}
```

#### ç±»å‹åˆ‡æ¢

```swift
struct TransactionTypeSegment: View {
    @Binding var selectedType: TransactionType
    
    var body: some View {
        Picker("ç±»å‹", selection: $selectedType) {
            Text("æ”¯å‡º").tag(TransactionType.expense)
            Text("æ”¶å…¥").tag(TransactionType.income)
            Text("è½¬è´¦").tag(TransactionType.transfer)
        }
        .pickerStyle(.segmented)
        .padding(.horizontal, Spacing.m)
    }
}
```

#### é‡‘é¢æ˜¾ç¤º

```swift
struct AmountDisplay: View {
    @Binding var amount: Decimal
    
    var body: some View {
        HStack(spacing: 4) {
            Text("Â¥")
                .font(.system(size: 28, weight: .regular))
                .foregroundColor(.gray2)
            
            Text(amount == 0 ? "0" : amount.description)
                .font(.system(size: 56, weight: .bold, design: .rounded))
                .foregroundColor(.primary)
                .monospacedDigit()
                .minimumScaleFactor(0.5)
                .lineLimit(1)
        }
        .frame(maxWidth: .infinity)
    }
}
```

#### è®¡ç®—å™¨é”®ç›˜

```swift
struct CalculatorKeyboard: View {
    @Binding var amount: Decimal
    let onDateTap: () -> Void
    let onNoteTap: () -> Void
    
    private let buttons: [[CalculatorButton]] = [
        [.number(1), .number(2), .number(3), .date],
        [.number(4), .number(5), .number(6), .note],
        [.number(7), .number(8), .number(9), .add],
        [.decimal, .number(0), .delete, .subtract]
    ]
    
    var body: some View {
        VStack(spacing: Spacing.s) {
            ForEach(buttons, id: \.self) { row in
                HStack(spacing: Spacing.s) {
                    ForEach(row, id: \.self) { button in
                        CalculatorButtonView(
                            button: button,
                            amount: $amount,
                            onDateTap: onDateTap,
                            onNoteTap: onNoteTap
                        )
                    }
                }
            }
        }
        .padding(Spacing.m)
    }
}

enum CalculatorButton: Hashable {
    case number(Int)
    case decimal
    case delete
    case add
    case subtract
    case date
    case note
    
    var title: String {
        switch self {
        case .number(let n): return "\(n)"
        case .decimal: return "."
        case .delete: return "âŒ«"
        case .add: return "+"
        case .subtract: return "-"
        case .date: return "ä»Šå¤©"
        case .note: return "å¤‡æ³¨"
        }
    }
    
    var icon: String? {
        switch self {
        case .delete: return "delete.left"
        case .add: return "plus"
        case .subtract: return "minus"
        case .date: return "calendar"
        case .note: return "note.text"
        default: return nil
        }
    }
}

struct CalculatorButtonView: View {
    let button: CalculatorButton
    @Binding var amount: Decimal
    let onDateTap: () -> Void
    let onNoteTap: () -> Void
    
    @State private var isPressed = false
    
    var body: some View {
        Button {
            HapticFeedback.light.trigger()
            handleTap()
        } label: {
            Group {
                if let icon = button.icon {
                    Label(button.title, systemImage: icon)
                        .labelStyle(.iconOnly)
                        .font(.system(size: 20))
                } else {
                    Text(button.title)
                        .font(.system(size: 24, weight: .medium))
                }
            }
            .frame(maxWidth: .infinity)
            .frame(height: 56)
            .background(
                RoundedRectangle(cornerRadius: CornerRadius.m)
                    .fill(buttonBackground)
            )
            .foregroundColor(buttonForeground)
        }
        .buttonStyle(ScaleButtonStyle())
    }
    
    private var buttonBackground: Color {
        switch button {
        case .date, .note:
            return Color.backgroundTertiary
        default:
            return Color.backgroundSecondary
        }
    }
    
    private var buttonForeground: Color {
        switch button {
        case .add, .subtract:
            return .primaryBlue
        default:
            return .primary
        }
    }
    
    private func handleTap() {
        switch button {
        case .number(let n):
            appendNumber(n)
        case .decimal:
            appendDecimal()
        case .delete:
            deleteLastDigit()
        case .add, .subtract:
            // å¤„ç†åŠ å‡è¿ç®—
            break
        case .date:
            onDateTap()
        case .note:
            onNoteTap()
        }
    }
    
    private func appendNumber(_ n: Int) {
        let newAmount = amount * 10 + Decimal(n)
        if newAmount < 9999999 {  // é™åˆ¶æœ€å¤§é‡‘é¢
            amount = newAmount
        }
    }
    
    private func appendDecimal() {
        // å¤„ç†å°æ•°ç‚¹é€»è¾‘
    }
    
    private func deleteLastDigit() {
        amount = (amount / 10).rounded(.towardZero)
    }
}
```

#### é€‰æ‹©åŒºåŸŸ

```swift
struct SelectionArea: View {
    @ObservedObject var viewModel: AddTransactionViewModel
    
    var body: some View {
        VStack(spacing: Spacing.s) {
            // è´¦æˆ·é€‰æ‹©
            SelectionRow(
                icon: "creditcard.fill",
                title: "è´¦æˆ·",
                value: viewModel.selectedAccount?.name ?? "è¯·é€‰æ‹©"
            ) {
                viewModel.showAccountPicker = true
            }
            
            Divider()
                .padding(.leading, 56)
            
            // åˆ†ç±»é€‰æ‹©
            SelectionRow(
                icon: viewModel.selectedCategory?.iconName ?? "folder.fill",
                title: "åˆ†ç±»",
                value: viewModel.selectedCategory?.fullPath ?? "è¯·é€‰æ‹©"
            ) {
                viewModel.showCategoryPicker = true
            }
            
            Divider()
                .padding(.leading, 56)
            
            // æ ‡ç­¾
            TagSelectionRow(selectedTags: $viewModel.selectedTags) {
                viewModel.showTagPicker = true
            }
        }
        .padding(.horizontal, Spacing.m)
        .sheet(isPresented: $viewModel.showAccountPicker) {
            AccountPickerSheet(selectedAccount: $viewModel.selectedAccount)
        }
        .sheet(isPresented: $viewModel.showCategoryPicker) {
            CategoryPickerSheet(
                type: viewModel.type,
                selectedCategory: $viewModel.selectedCategory
            )
        }
    }
}

struct SelectionRow: View {
    let icon: String
    let title: String
    let value: String
    let action: () -> Void
    
    var body: some View {
        Button(action: action) {
            HStack(spacing: Spacing.m) {
                Image(systemName: icon)
                    .font(.system(size: 20))
                    .foregroundColor(.gray2)
                    .frame(width: 32)
                
                Text(title)
                    .font(.body)
                    .foregroundColor(.gray2)
                    .frame(width: 60, alignment: .leading)
                
                Text(value)
                    .font(.body)
                    .foregroundColor(.primary)
                
                Spacer()
                
                Image(systemName: "chevron.right")
                    .font(.caption)
                    .foregroundColor(.gray3)
            }
            .contentShape(Rectangle())
        }
        .buttonStyle(.plain)
    }
}
```

### 3.3 äº¤äº’æµç¨‹

```mermaid
sequenceDiagram
    participant User
    participant Sheet
    participant Keyboard
    participant Picker
    participant ViewModel
    participant Repository
    
    User->>Sheet: ç‚¹å‡»é¦–é¡µ+æŒ‰é’®
    Sheet->>Sheet: å¼¹å‡ºSheet (80%é«˜åº¦)
    Sheet->>User: æ˜¾ç¤ºè®°è´¦ç•Œé¢
    
    User->>Keyboard: è¾“å…¥é‡‘é¢
    Keyboard->>ViewModel: æ›´æ–°amount
    
    User->>Sheet: ç‚¹å‡»"è´¦æˆ·"
    Sheet->>Picker: æ˜¾ç¤ºè´¦æˆ·é€‰æ‹©å™¨
    Picker->>User: å±•ç¤ºè´¦æˆ·åˆ—è¡¨
    User->>Picker: é€‰æ‹©è´¦æˆ·
    Picker->>ViewModel: æ›´æ–°selectedAccount
    
    User->>Sheet: ç‚¹å‡»"åˆ†ç±»"
    Sheet->>Picker: æ˜¾ç¤ºåˆ†ç±»é€‰æ‹©å™¨
    Picker->>User: å±•ç¤ºåˆ†ç±»åˆ—è¡¨
    User->>Picker: é€‰æ‹©åˆ†ç±»
    Picker->>ViewModel: æ›´æ–°selectedCategory
    
    User->>Sheet: ç‚¹å‡»"ç¡®è®¤æ·»åŠ "
    ViewModel->>ViewModel: éªŒè¯æ•°æ®
    ViewModel->>Repository: saveTransaction()
    Repository->>Repository: ä¿å­˜åˆ°SwiftData
    Repository->>Repository: æ›´æ–°è´¦æˆ·ä½™é¢
    Repository-->>ViewModel: ä¿å­˜æˆåŠŸ
    ViewModel->>Sheet: dismiss()
    Sheet-->>User: è¿”å›é¦–é¡µï¼Œæ˜¾ç¤ºæ–°äº¤æ˜“
```

**æ™ºèƒ½ç‰¹æ€§**:
1. **è‡ªåŠ¨æ¨è**: æ ¹æ®æ—¶é—´ã€é‡‘é¢æ¨èåˆ†ç±»
2. **è®°å¿†åŠŸèƒ½**: è®°ä½ä¸Šæ¬¡é€‰æ‹©çš„è´¦æˆ·
3. **å•†å®¶å…³è”**: è¾“å…¥å•†å®¶åè‡ªåŠ¨å…³è”åˆ†ç±»
4. **å¿«æ·è¾“å…¥**: æ”¯æŒ"45+32"è®¡ç®—

---

## 4. æµæ°´åˆ—è¡¨è®¾è®¡ (TransactionListView)

### 4.1 é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµæ°´              [ç­›é€‰] [æœç´¢]    â”‚ <- å¯¼èˆªæ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [å…¨éƒ¨] [æ”¯å‡º] [æ”¶å…¥] [è½¬è´¦]        â”‚ <- å¿«é€Ÿç­›é€‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” æœç´¢æµæ°´...                     â”‚ <- æœç´¢æ¡†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ä»Šå¤© 1æœˆ24æ—¥ å‘¨å…­                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸœ åˆé¤        -45.00       â”‚  â”‚
â”‚  â”‚ æ‹›å•†é“¶è¡Œ | 14:23 | #å‡ºå·®   â”‚  â”‚ <- å¸¦æ ‡ç­¾
â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚ â˜• å’–å•¡        -32.00       â”‚  â”‚
â”‚  â”‚ ç°é‡‘ | 10:15                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  æ”¯å‡º: Â¥77.00                      â”‚
â”‚                                     â”‚
â”‚  æ˜¨å¤© 1æœˆ23æ—¥ å‘¨äº”                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸš‡ åœ°é“        -6.00        â”‚  â”‚
â”‚  â”‚ å·¥è¡Œå‚¨è“„å¡ | 17:30           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  [åŠ è½½æ›´å¤š...]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ç­›é€‰å™¨è®¾è®¡

```swift
struct TransactionFilterSheet: View {
    @Binding var filter: TransactionFilter
    @Environment(\.dismiss) private var dismiss
    
    var body: some View {
        NavigationStack {
            Form {
                // æ—¶é—´èŒƒå›´
                Section("æ—¶é—´èŒƒå›´") {
                    Picker("æ—¶é—´", selection: $filter.timeRange) {
                        Text("æœ¬æœˆ").tag(TimeRange.thisMonth)
                        Text("ä¸Šæœˆ").tag(TimeRange.lastMonth)
                        Text("è¿‘3ä¸ªæœˆ").tag(TimeRange.last3Months)
                        Text("ä»Šå¹´").tag(TimeRange.thisYear)
                        Text("è‡ªå®šä¹‰").tag(TimeRange.custom)
                    }
                    
                    if filter.timeRange == .custom {
                        DatePicker("å¼€å§‹æ—¥æœŸ", selection: $filter.startDate, displayedComponents: .date)
                        DatePicker("ç»“æŸæ—¥æœŸ", selection: $filter.endDate, displayedComponents: .date)
                    }
                }
                
                // è´¦æˆ·ç­›é€‰
                Section("è´¦æˆ·") {
                    MultiSelector(
                        items: availableAccounts,
                        selectedItems: $filter.selectedAccounts
                    )
                }
                
                // åˆ†ç±»ç­›é€‰
                Section("åˆ†ç±»") {
                    MultiSelector(
                        items: availableCategories,
                        selectedItems: $filter.selectedCategories
                    )
                }
                
                // é‡‘é¢èŒƒå›´
                Section("é‡‘é¢èŒƒå›´") {
                    HStack {
                        TextField("æœ€å°é‡‘é¢", value: $filter.minAmount, format: .currency(code: "CNY"))
                            .keyboardType(.decimalPad)
                        Text("-")
                        TextField("æœ€å¤§é‡‘é¢", value: $filter.maxAmount, format: .currency(code: "CNY"))
                            .keyboardType(.decimalPad)
                    }
                }
                
                // æ ‡ç­¾
                Section("æ ‡ç­¾") {
                    TagSelector(selectedTags: $filter.selectedTags)
                }
            }
            .navigationTitle("ç­›é€‰")
            .navigationBarTitleDisplayMode(.inline)
            .toolbar {
                ToolbarItem(placement: .cancellationAction) {
                    Button("é‡ç½®") {
                        filter = TransactionFilter()
                    }
                }
                
                ToolbarItem(placement: .confirmationAction) {
                    Button("å®Œæˆ") {
                        dismiss()
                    }
                    .fontWeight(.semibold)
                }
            }
        }
    }
}

struct TransactionFilter {
    var timeRange: TimeRange = .thisMonth
    var startDate = Date()
    var endDate = Date()
    var selectedAccounts: Set<Account> = []
    var selectedCategories: Set<Category> = []
    var minAmount: Decimal? = nil
    var maxAmount: Decimal? = nil
    var selectedTags: Set<Tag> = []
}
```

---

## 5. æŠ¥è¡¨é¡µè®¾è®¡ (ReportView)

### 5.1 é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŠ¥è¡¨        [æœ¬æœˆâ–¼]    [å¯¼å‡º]     â”‚ <- å¯¼èˆªæ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æ”¶æ”¯] [åˆ†ç±»] [è¶‹åŠ¿] [è´¦æˆ·]        â”‚ <- Tabåˆ‡æ¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  æ”¶æ”¯æ€»è§ˆ                      â”‚ â”‚
â”‚  â”‚                                â”‚ â”‚
â”‚  â”‚  æ”¶å…¥  Â¥8,900                 â”‚ â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”            â”‚ â”‚ <- æŸ±çŠ¶å›¾
â”‚  â”‚  æ”¯å‡º  Â¥12,345                â”‚ â”‚
â”‚  â”‚  â–‚â–ƒâ–…â–„â–†â–‡â–…â–„â–ƒâ–‚â–                 â”‚ â”‚
â”‚  â”‚                                â”‚ â”‚
â”‚  â”‚  ç»“ä½™  -Â¥3,445                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  åˆ†ç±»åˆ†æ                      â”‚ â”‚
â”‚  â”‚                                â”‚ â”‚
â”‚  â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚  â”‚      â”‚ ğŸœ35% â”‚               â”‚ â”‚ <- é¥¼å›¾
â”‚  â”‚    ğŸš—20%  ğŸ 15%               â”‚ â”‚
â”‚  â”‚      â”‚ ğŸ’°10% â”‚               â”‚ â”‚
â”‚  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  Top 5 åˆ†ç±»                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸœ é¤é¥®  Â¥4,320  â–ˆâ–ˆâ–ˆâ–ˆâ–Œ  35%  â”‚ â”‚
â”‚  â”‚ ğŸš— äº¤é€š  Â¥2,469  â–ˆâ–ˆâ–Œ    20%  â”‚ â”‚
â”‚  â”‚ ğŸ  å±…ä½  Â¥1,852  â–ˆâ–ˆ     15%  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å›¾è¡¨å®ç°

#### æ”¶æ”¯æŸ±çŠ¶å›¾

```swift
import Charts

struct IncomeExpenseBarChart: View {
    let data: [DailyData]
    
    var body: some View {
        Chart {
            ForEach(data) { item in
                // æ”¯å‡ºæŸ±
                BarMark(
                    x: .value("æ—¥æœŸ", item.date, unit: .day),
                    y: .value("æ”¯å‡º", item.expense)
                )
                .foregroundStyle(.expenseRed)
                .cornerRadius(4)
                
                // æ”¶å…¥æŸ±
                BarMark(
                    x: .value("æ—¥æœŸ", item.date, unit: .day),
                    y: .value("æ”¶å…¥", item.income)
                )
                .foregroundStyle(.incomeGreen)
                .cornerRadius(4)
            }
        }
        .chartXAxis {
            AxisMarks(values: .stride(by: .day, count: 5)) { _ in
                AxisGridLine()
                AxisTick()
                AxisValueLabel(format: .dateTime.day())
            }
        }
        .chartYAxis {
            AxisMarks { value in
                AxisGridLine()
                AxisValueLabel {
                    if let amount = value.as(Decimal.self) {
                        Text(amount.formatted(.currency(code: "CNY")))
                    }
                }
            }
        }
        .frame(height: 200)
        .padding(Spacing.m)
    }
}

struct DailyData: Identifiable {
    let id = UUID()
    let date: Date
    let expense: Decimal
    let income: Decimal
}
```

#### åˆ†ç±»é¥¼å›¾

```swift
struct CategoryPieChart: View {
    let data: [CategoryData]
    @State private var selectedCategory: CategoryData?
    
    var body: some View {
        Chart(data) { item in
            SectorMark(
                angle: .value("é‡‘é¢", item.amount),
                innerRadius: .ratio(0.6),  // ç¯å½¢å›¾
                angularInset: 2
            )
            .foregroundStyle(by: .value("åˆ†ç±»", item.category.name))
            .cornerRadius(4)
            .opacity(selectedCategory == nil || selectedCategory == item ? 1.0 : 0.3)
        }
        .chartAngleSelection(value: $selectedCategory)
        .chartLegend(position: .bottom, alignment: .center)
        .frame(height: 250)
        .padding(Spacing.m)
        .overlay(alignment: .center) {
            if let selected = selectedCategory {
                VStack {
                    Text(selected.category.name)
                        .font(.subheadline)
                        .foregroundColor(.gray2)
                    
                    Text(selected.amount.formatted())
                        .font(.title2)
                        .fontWeight(.bold)
                        .monospacedDigit()
                    
                    Text(String(format: "%.1f%%", selected.percentage))
                        .font(.caption)
                        .foregroundColor(.gray3)
                }
            }
        }
    }
}

struct CategoryData: Identifiable, Equatable {
    let id = UUID()
    let category: Category
    let amount: Decimal
    let percentage: Double
}
```

---

## 6. é¢„ç®—é¡µè®¾è®¡ (BudgetView)

### 6.1 é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¢„ç®—ç®¡ç†                  + æ–°å»º   â”‚ <- å¯¼èˆªæ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  æ€»é¢„ç®—  Â¥5,000               â”‚ â”‚
â”‚  â”‚  å·²ç”¨ Â¥3,245  65%             â”‚ â”‚ <- æ€»è§ˆå¡ç‰‡
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œâ–‘â–‘â–‘â–‘â–‘â–‘          â”‚ â”‚
â”‚  â”‚  æ—¥å‡å¯ç”¨ Â¥58.25              â”‚ â”‚
â”‚  â”‚  è·æœˆåº•è¿˜æœ‰ 10 å¤©              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  åˆ†ç±»é¢„ç®—                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸœ é¤é¥®                        â”‚ â”‚
â”‚  â”‚ é¢„ç®— Â¥2,000                   â”‚ â”‚
â”‚  â”‚ å·²ç”¨ Â¥1,580  å‰©ä½™ Â¥420        â”‚ â”‚ <- å®‰å…¨çŠ¶æ€
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œâ–‘â–‘â–‘  79%         â”‚ â”‚    (ç»¿è‰²)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸš— äº¤é€š                        â”‚ â”‚
â”‚  â”‚ é¢„ç®— Â¥500                     â”‚ â”‚
â”‚  â”‚ å·²ç”¨ Â¥520  è¶…æ”¯ Â¥20           â”‚ â”‚ <- è¶…æ”¯çŠ¶æ€
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  104%        â”‚ â”‚    (çº¢è‰²)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ  å±…ä½                        â”‚ â”‚
â”‚  â”‚ é¢„ç®— Â¥1,500                   â”‚ â”‚
â”‚  â”‚ å·²ç”¨ Â¥1,350  å‰©ä½™ Â¥150        â”‚ â”‚ <- é¢„è­¦çŠ¶æ€
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œâ–‘  90%         â”‚ â”‚    (æ©™è‰²)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 é¢„ç®—å¡ç‰‡å®ç°

```swift
struct BudgetCard: View {
    let budget: Budget
    @State private var showDetail = false
    
    private var statusColor: Color {
        switch budget.status {
        case .safe: return .incomeGreen
        case .warning, .nearLimit: return .warningOrange
        case .overBudget: return .expenseRed
        }
    }
    
    var body: some View {
        Button {
            showDetail = true
        } label: {
            VStack(alignment: .leading, spacing: Spacing.m) {
                // å¤´éƒ¨
                HStack {
                    CategoryIcon(
                        iconName: budget.category?.iconName ?? "folder.fill",
                        color: Color(hex: budget.category?.colorHex ?? "#007AFF")
                    )
                    
                    VStack(alignment: .leading, spacing: 4) {
                        Text(budget.category?.name ?? "æœªåˆ†ç±»")
                            .font(.headline)
                            .foregroundColor(.primary)
                        
                        Text("é¢„ç®— \(budget.effectiveBudget.formatted())")
                            .font(.caption)
                            .foregroundColor(.gray2)
                    }
                    
                    Spacer()
                    
                    Image(systemName: "chevron.right")
                        .font(.caption)
                        .foregroundColor(.gray3)
                }
                
                // é‡‘é¢ä¿¡æ¯
                HStack {
                    VStack(alignment: .leading, spacing: 4) {
                        Text("å·²ç”¨")
                            .font(.caption)
                            .foregroundColor(.gray2)
                        
                        Text(budget.usedAmount.formatted())
                            .font(.title3)
                            .fontWeight(.semibold)
                            .foregroundColor(statusColor)
                            .monospacedDigit()
                    }
                    
                    Spacer()
                    
                    VStack(alignment: .trailing, spacing: 4) {
                        Text(budget.status == .overBudget ? "è¶…æ”¯" : "å‰©ä½™")
                            .font(.caption)
                            .foregroundColor(.gray2)
                        
                        Text(budget.remainingBudget.formatted())
                            .font(.title3)
                            .fontWeight(.semibold)
                            .foregroundColor(budget.status == .overBudget ? .expenseRed : .gray1)
                            .monospacedDigit()
                    }
                }
                
                // è¿›åº¦æ¡
                VStack(spacing: Spacing.xs) {
                    BudgetProgressBar(progress: budget.usagePercentage, height: 12)
                    
                    Text("\(Int(budget.usagePercentage * 100))%")
                        .font(.caption)
                        .fontWeight(.medium)
                        .foregroundColor(statusColor)
                        .frame(maxWidth: .infinity, alignment: .trailing)
                }
            }
            .padding(Spacing.m)
            .background(
                RoundedRectangle(cornerRadius: CornerRadius.m)
                    .fill(Color.backgroundSecondary)
                    .overlay(
                        RoundedRectangle(cornerRadius: CornerRadius.m)
                            .stroke(statusColor.opacity(0.3), lineWidth: 1.5)
                    )
            )
        }
        .buttonStyle(.plain)
        .sheet(isPresented: $showDetail) {
            BudgetDetailView(budget: budget)
        }
    }
}
```

---

## 7. è®¾ç½®é¡µè®¾è®¡ (SettingsView)

### 7.1 é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è®¾ç½®                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è´¦æœ¬                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è´¦æœ¬ç®¡ç†       æ—¥å¸¸è´¦æœ¬ >     â”‚ â”‚
â”‚  â”‚ è´¦æˆ·ç®¡ç†                   >  â”‚ â”‚
â”‚  â”‚ åˆ†ç±»ç®¡ç†                   >  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  åŒæ­¥                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ iCloudåŒæ­¥     [Toggle] âœ“    â”‚ â”‚
â”‚  â”‚ ä¸Šæ¬¡åŒæ­¥: 2åˆ†é’Ÿå‰             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  é¢„ç®—ä¸æé†’                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ é¢„ç®—è®¾ç½®                   >  â”‚ â”‚
â”‚  â”‚ æé†’é€šçŸ¥       [Toggle] âœ“    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  æ•°æ®                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ•°æ®å¯¼å‡º                   >  â”‚ â”‚
â”‚  â”‚ æ•°æ®å¯¼å…¥                   >  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  å…¶ä»–                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å¤–è§‚è®¾ç½®                   >  â”‚ â”‚
â”‚  â”‚ å…³äº                       >  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 å®ç°

```swift
struct SettingsView: View {
    @StateObject private var viewModel = SettingsViewModel()
    
    var body: some View {
        NavigationStack {
            List {
                // è´¦æœ¬éƒ¨åˆ†
                Section("è´¦æœ¬") {
                    NavigationLink(destination: LedgerManagementView()) {
                        HStack {
                            Text("è´¦æœ¬ç®¡ç†")
                            Spacer()
                            Text(viewModel.currentLedger.name)
                                .foregroundColor(.gray2)
                        }
                    }
                    
                    NavigationLink("è´¦æˆ·ç®¡ç†", destination: AccountManagementView())
                    NavigationLink("åˆ†ç±»ç®¡ç†", destination: CategoryManagementView())
                }
                
                // åŒæ­¥éƒ¨åˆ†
                Section {
                    Toggle("iCloudåŒæ­¥", isOn: $viewModel.cloudSyncEnabled)
                    
                    if viewModel.cloudSyncEnabled {
                        HStack {
                            Text("ä¸Šæ¬¡åŒæ­¥")
                                .foregroundColor(.gray2)
                            Spacer()
                            Text(viewModel.lastSyncTime)
                                .foregroundColor(.gray3)
                                .font(.caption)
                        }
                    }
                } header: {
                    Text("åŒæ­¥")
                } footer: {
                    Text("å¯ç”¨åï¼Œæ•°æ®å°†é€šè¿‡iCloudåœ¨æ‚¨çš„æ‰€æœ‰è®¾å¤‡é—´åŒæ­¥")
                }
                
                // é¢„ç®—ä¸æé†’
                Section("é¢„ç®—ä¸æé†’") {
                    NavigationLink("é¢„ç®—è®¾ç½®", destination: BudgetSettingsView())
                    Toggle("æé†’é€šçŸ¥", isOn: $viewModel.notificationsEnabled)
                }
                
                // æ•°æ®
                Section("æ•°æ®") {
                    NavigationLink("æ•°æ®å¯¼å‡º", destination: ExportDataView())
                    NavigationLink("æ•°æ®å¯¼å…¥", destination: ImportDataView())
                }
                
                // å…¶ä»–
                Section("å…¶ä»–") {
                    NavigationLink("å¤–è§‚è®¾ç½®", destination: AppearanceView())
                    NavigationLink("å…³äº", destination: AboutView())
                }
            }
            .navigationTitle("è®¾ç½®")
        }
    }
}
```

---

## 8. è´¦æˆ·ç®¡ç†è®¾è®¡ (AccountManagementView)

*ï¼ˆå†…å®¹åŒå‰ï¼Œç•¥ï¼‰*

---

## 9. åˆ†ç±»ç®¡ç†è®¾è®¡ (CategoryManagementView)

*ï¼ˆå†…å®¹åŒå‰ï¼Œç•¥ï¼‰*

---

## 10. æ ¸å¿ƒäº¤äº’æµç¨‹å›¾

### 10.1 è®°è´¦æµç¨‹

```mermaid
flowchart TD
    Start([ç”¨æˆ·å¼€å§‹è®°è´¦]) --> ClickFAB[ç‚¹å‡»+æŒ‰é’®]
    ClickFAB --> ShowSheet[å¼¹å‡ºè®°è´¦Sheet]
    ShowSheet --> SelectType{é€‰æ‹©ç±»å‹}
    
    SelectType -->|æ”¯å‡º| InputAmount[è¾“å…¥é‡‘é¢]
    SelectType -->|æ”¶å…¥| InputAmount
    SelectType -->|è½¬è´¦| InputAmount
    
    InputAmount --> SelectAccount[é€‰æ‹©è´¦æˆ·]
    SelectAccount --> SelectCategory[é€‰æ‹©åˆ†ç±»]
    SelectCategory --> AddTags{æ·»åŠ æ ‡ç­¾?}
    
    AddTags -->|æ˜¯| SelectTags[é€‰æ‹©æ ‡ç­¾]
    AddTags -->|å¦| Validate{éªŒè¯æ•°æ®}
    SelectTags --> Validate
    
    Validate -->|æœ‰æ•ˆ| SaveTransaction[ä¿å­˜äº¤æ˜“]
    Validate -->|æ— æ•ˆ| ShowError[æ˜¾ç¤ºé”™è¯¯æç¤º]
    ShowError --> InputAmount
    
    SaveTransaction --> UpdateBalance[æ›´æ–°è´¦æˆ·ä½™é¢]
    UpdateBalance --> SyncCloud{iCloudåŒæ­¥?}
    
    SyncCloud -->|å·²å¯ç”¨| CloudSync[åå°åŒæ­¥]
    SyncCloud -->|æœªå¯ç”¨| DismissSheet
    CloudSync --> DismissSheet[å…³é—­Sheet]
    
    DismissSheet --> RefreshHome[åˆ·æ–°é¦–é¡µ]
    RefreshHome --> End([å®Œæˆ])
```

### 10.2 é¢„ç®—ç®¡ç†æµç¨‹

```mermaid
flowchart TD
    Start([å¼€å§‹]) --> OpenBudget[æ‰“å¼€é¢„ç®—é¡µ]
    OpenBudget --> CheckBudgets{æœ‰é¢„ç®—?}
    
    CheckBudgets -->|æ˜¯| ShowList[æ˜¾ç¤ºé¢„ç®—åˆ—è¡¨]
    CheckBudgets -->|å¦| ShowEmpty[æ˜¾ç¤ºç©ºçŠ¶æ€]
    
    ShowEmpty --> ClickCreate[ç‚¹å‡»åˆ›å»ºé¢„ç®—]
    ShowList --> ClickAdd[ç‚¹å‡»+æ–°å»º]
    
    ClickCreate --> SelectCategory[é€‰æ‹©åˆ†ç±»]
    ClickAdd --> SelectCategory
    
    SelectCategory --> InputAmount[è¾“å…¥é¢„ç®—é‡‘é¢]
    InputAmount --> SelectPeriod[é€‰æ‹©å‘¨æœŸ]
    SelectPeriod --> ToggleRollover{å¯ç”¨ç»“è½¬?}
    
    ToggleRollover -->|æ˜¯| SetRollover[è®¾ç½®ç»“è½¬è§„åˆ™]
    ToggleRollover -->|å¦| SaveBudget[ä¿å­˜é¢„ç®—]
    SetRollover --> SaveBudget
    
    SaveBudget --> Calculate[è®¡ç®—ä½¿ç”¨æƒ…å†µ]
    Calculate --> CheckStatus{æ£€æŸ¥çŠ¶æ€}
    
    CheckStatus -->|è¶…æ”¯| SendNotification[å‘é€è¶…æ”¯é€šçŸ¥]
    CheckStatus -->|é¢„è­¦| SendWarning[å‘é€é¢„è­¦é€šçŸ¥]
    CheckStatus -->|æ­£å¸¸| UpdateUI[æ›´æ–°UI]
    
    SendNotification --> UpdateUI
    SendWarning --> UpdateUI
    UpdateUI --> End([å®Œæˆ])
```

---

## é™„å½•ï¼šé¡µé¢æ¸…å•

| é¡µé¢åç§° | è·¯å¾„ | è¯´æ˜ |
|---------|------|------|
| ä¸»TabBar | MainTabView | 4ä¸ªTabå®¹å™¨ |
| é¦–é¡µ | HomeView | æ ¸å¿ƒé¡µé¢ |
| å¿«é€Ÿè®°è´¦ | AddTransactionSheet | æ¨¡æ€Sheet |
| äº¤æ˜“è¯¦æƒ… | TransactionDetailView | Pushå¯¼èˆª |
| æµæ°´åˆ—è¡¨ | TransactionListView | Tabé¡µ |
| æŠ¥è¡¨ | ReportView | Tabé¡µ |
| é¢„ç®— | BudgetView | Tabé¡µ |
| è®¾ç½® | SettingsView | Tabé¡µ |
| è´¦æœ¬ç®¡ç† | LedgerManagementView | Push |
| è´¦æˆ·ç®¡ç† | AccountManagementView | Push |
| åˆ†ç±»ç®¡ç† | CategoryManagementView | Push |
| åˆ†ç±»é€‰æ‹©å™¨ | CategoryPickerSheet | Sheet |
| è´¦æˆ·é€‰æ‹©å™¨ | AccountPickerSheet | Sheet |
| æ•°æ®å¯¼å‡º | ExportDataView | Push |

---

**æ–‡æ¡£ç»´æŠ¤**: éšäº§å“è¿­ä»£æŒç»­æ›´æ–°  
**æœ€åæ›´æ–°**: 2026-01-24
