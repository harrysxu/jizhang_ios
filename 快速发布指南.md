# 🚀 简记账发布快速参考

## 第一步：立即修改（5分钟）

### 修改推送环境为生产环境

打开 `jizhang/jizhang/jizhang.entitlements`，第6行改为：

```xml
<key>aps-environment</key>
<string>production</string>  <!-- 从 development 改为 production -->
```

## 第二步：准备资源（今天完成）

### 1. App 图标 (2-4小时)
- 设计 1024x1024 像素图标
- 使用 https://www.appicon.co 生成所有尺寸
- 在 Xcode 导入到 `Assets.xcassets/AppIcon`

### 2. 隐私政策 (1小时)
- 使用 `docs/隐私政策模板.html` 
- 修改联系邮箱
- 上传到 GitHub Pages 或 Notion
- 获得公开访问 URL

## 第三步：截图（明天完成）

在这些模拟器截图（每个3-10张）：
1. iPhone 16 Pro Max (1320x2868)
2. iPhone 15 Pro Max (1290x2796)  
3. iPhone 11 Pro Max (1242x2688)
4. iPhone 8 Plus (1242x2208)

**截图内容：**
1. 首页
2. 添加记账
3. 统计报表
4. 预算管理
5. 账本管理

## 第四步：App Store Connect（本周）

1. 登录 https://appstoreconnect.apple.com
2. 创建 App（Bundle ID: com.xxl.jizhang）
3. 填写基本信息：
   - 名称：简记账
   - 副标题：简洁优雅的记账工具
   - 分类：财务
   - 隐私政策 URL：（第二步的URL）
4. 上传截图
5. 填写描述和关键词

## 第五步：配置订阅（本周）

在 App Store Connect → App内购买项目：

创建订阅群组，添加：
- **jizhang_monthly** - 月度订阅 - ¥6/月
- **jizhang_yearly** - 年度订阅 - ¥48/年
- **jizhang_lifetime** - 终身买断 - ¥98（非消耗型）

⚠️ Product ID 必须与代码一致！

## 第六步：上传构建（下周一）

在 Xcode 中：
1. 配置代码签名（Signing & Capabilities）
2. Clean Build Folder (⌘+Shift+K)
3. 选择 "Any iOS Device"
4. Product → Archive
5. Distribute → App Store Connect
6. 等待处理（10-30分钟）

## 第七步：提交审核（下周二）

1. 选择构建版本
2. 填写"此版本中的新功能"
3. 填写审核说明
4. 提交审核
5. 等待 1-3 天

---

## ⚡ 预计时间表

| 日期 | 任务 | 时间 |
|------|------|------|
| 今天 | 修改代码 + 设计图标 + 隐私政策 | 3-5小时 |
| 明天 | 截图所有尺寸 | 4-8小时 |
| 后天 | App Store Connect 配置 | 2-3小时 |
| 本周末 | 配置订阅 + 最终测试 | 2-3小时 |
| 下周一 | Archive + 上传 | 1小时 |
| 下周二 | 提交审核 | 30分钟 |
| 下周三-五 | 等待审核 | - |

**总计：最快 1 周完成！**

---

## 📋 检查清单

```
第一优先级（必须）：
☐ 修改 aps-environment 为 production
☐ 准备 1024x1024 App 图标
☐ 准备所有尺寸截图（4种尺寸）
☐ 创建隐私政策页面
☐ 注册 App Store Connect
☐ 配置订阅产品（3个）
☐ 配置代码签名
☐ Archive 并上传

第二优先级（建议）：
☐ 创建 StoreKit 配置文件
☐ 清理调试代码
☐ 添加 README

第三优先级（可选）：
☐ TestFlight 内测
☐ 多语言支持
☐ iPad 适配
```

---

## 🆘 遇到问题？

**详细文档：**
- 📄 完整清单：`docs/App发布准备清单.md`
- 📖 详细步骤：`docs/App发布详细步骤.md`
- 🌐 隐私政策：`docs/隐私政策模板.html`
- 📝 快速总结：`发布总结.md`

**Apple 官方：**
- App Store Connect: https://appstoreconnect.apple.com
- 审核指南: https://developer.apple.com/app-store/review/guidelines/
- 开发者支持: https://developer.apple.com/support/

---

## 💡 重要提示

1. **推送环境：** development → production（必改！）
2. **Product ID：** 订阅产品ID必须与代码一致
3. **截图：** 至少每个尺寸3张，最多10张
4. **审核说明：** 清楚说明如何测试订阅功能
5. **耐心等待：** 首次审核通常需要 2-5 天

---

**开始吧！祝发布顺利！** 🎉
